mkdir -p /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate
verilator -Wno-STMTDLY --timescale 1ns/10ps --trace --cc --exe  --main --timing --Mdir /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate --top-module Testbench -o Testbench -I/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/include -I/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/include -CFLAGS "-DVL_DEBUG -DTOP=Testbench -std=c++17 -iquote/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/ip/include/riscv -iquote/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/ip/include/cosim -iquote/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/ip/include/fesvr" -LDFLAGS "-L/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/ip/lib  -l:libcosim.a -l:libriscv.a -l:libdisasm.a -l:libsoftfloat.a -l:libfdt.a -l:libfesvr.a" /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/sim/cosim.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/sim/dpi.cpp /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/sim/Axi_lite_DDR.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/sim/testbench.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/IFID.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/CSRALU.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/IDEX.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/control.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/ALU.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/Imm_Gen.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/Branch_Comp.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/MEMWB.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/forwarding.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/PC.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/MaskGen.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/Core.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/NPC.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/BranchPrediction.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/FuckingModule.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/Regs.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/WbtoRegs.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/Data_Trunc.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/ALU_Sel.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/Race_Control.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/submit/EXMEM.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/DDR_interface.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/InstExamine.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_Uart.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/CSRModule.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/IDExceptExamine.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_Timer.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/PrivExamine.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Uart_interface.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_Core.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/ExceptReg.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_interface.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/CommitExceptExamine.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/PipelineCPU.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/CrossBar.v /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/RAM.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_Mem_Hub.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Displayer.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/MemAxi_lite.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Timer.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Core2MMIO_FSM.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_Displayer.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Cosim_MMIO.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Mem_Interface.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Core2Mem_FSM.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_RAM.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/CoreAxi_lite.sv /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/general/Axi_lite_MMIO_Hub.sv +define+TOP_DIR=\"/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate\" +define+VERILATE
make -C /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate -f VTestbench.mk Testbench
make[1]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate'
make[1]: 'Testbench' is up to date.
make[1]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate'
make -C /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/testcode
make[1]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/repo/sys-3-project/testcode'
make -C kernel
make[2]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel'
make -C lib clean
make[3]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/lib'
make[3]: 'clean' is up to date.
make[3]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/lib'
make -C init clean
make[3]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/init'
make[3]: 'clean' is up to date.
make[3]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/init'
make -C arch/riscv clean
make[3]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv'
make -C kernel clean
make[4]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/kernel'
make[4]: 'clean' is up to date.
make[4]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/kernel'
make[3]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv'

Clean Finished
make -C lib all
make[3]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/lib'
riscv64-linux-gnu-gcc -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c printk.c
riscv64-linux-gnu-gcc -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c rand.c
riscv64-linux-gnu-gcc -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c string.c
make[3]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/lib'
make -C init all
make[3]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/init'
riscv64-linux-gnu-gcc -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c main.c
riscv64-linux-gnu-gcc -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c test.c
make[3]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/init'
make -C arch/riscv all
make[3]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv'
make -C kernel all
make[4]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/kernel'
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c entry.S
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c head.S
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c clock.c
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c mm.c
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c proc.c
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c sbi.c
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c trap.c
riscv64-linux-gnu-gcc  -fno-pie -g3 -march=rv64imafd_zifencei -mabi=lp64 -mcmodel=medany -fno-builtin -ffunction-sections -fdata-sections -nostartfiles -nostdlib -nostdinc -static -lgcc -Wl,--nmagic -Wl,--gc-sections -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/include -I /home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/include -c vm.c
make[4]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv/kernel'
riscv64-linux-gnu-ld -T kernel/vmlinux.lds kernel/*.o ../../init/*.o ../../lib/*.o -o ../../vmlinux 
riscv64-linux-gnu-objcopy -O binary ../../vmlinux boot/Image
riscv64-linux-gnu-objdump -S ../../vmlinux > ../../vmlinux.asm
nm ../../vmlinux >  ../../System.map
make[3]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel/arch/riscv'

Build Finished OK
make[2]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/src/project/kernel'
make -C mini_sbi
make[2]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/repo/sys-3-project/testcode/mini_sbi'
# rm -rf 
make[2]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/repo/sys-3-project/testcode/mini_sbi'
make -C rom
make[2]: Entering directory '/home/tlhatepy3/sys/sys3/sys3-sp24/repo/sys-3-project/testcode/rom'
riscv64-linux-gnu-gcc -march=rv64i_zicsr -mabi=lp64 -mcmodel=medany -nostdlib -nostartfiles -DNOBRANCH  -c ./rom.S
riscv64-linux-gnu-ld -T link.ld ./rom.o -o ./rom.elf
riscv64-linux-gnu-objdump -Mno-aliases -D ./rom.elf > ./rom.asm
riscv64-linux-gnu-objcopy -O binary   ./rom.elf ./rom.bin
od -v -An -tx8 ./rom.bin > ./rom.hex
rm -rf ./rom.bin
make[2]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/repo/sys-3-project/testcode/rom'
riscv64-linux-gnu-ld ./mini_sbi/*.o ./kernel/lib/*.o \
	./kernel/init/*.o ./kernel/arch/riscv/kernel/*.o -T link.ld -o mini_sbi.elf
riscv64-linux-gnu-ld ./mini_sbi/*.o ./kernel/lib/*.o \
	./kernel/init/*.o ./kernel/arch/riscv/kernel/*.o ./rom/*.o \
	-T testcase.ld -o testcase.elf
riscv64-linux-gnu-objcopy -O binary   mini_sbi.elf tmp.bin
od -v -An -tx8 tmp.bin > tmp.hex
sed 's/@1/@0/g' tmp.hex > mini_sbi.hex
rm tmp.hex tmp.bin
riscv64-linux-gnu-objdump -Mno-aliases -D mini_sbi.elf > mini_sbi.asm
make[1]: Leaving directory '/home/tlhatepy3/sys/sys3/sys3-sp24/repo/sys-3-project/testcode'
cp /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/testcode/testcase.elf /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate/testcase.elf
cp /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/testcode/rom/rom.hex /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate/rom.hex
cp /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/testcode/dummy/dummy.hex /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate/elf.hex
cp /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/testcode/mini_sbi.hex /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate/mini_sbi.hex
cd /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/build/verilate; ./Testbench
rom.hex:                4096
elf.hex:               16384
mini_sbi.hex:          2147483648
ToDo: cosim_cj_t::proc_reset
initialize the simulation
[31m[error] PC SIM [33mffffffe000200080[31m, DUT [36m0000000080200080[0m
[31m[error] INSN SIM [33m12000073[31m, DUT [36m12000073[0m
ft0 = 0x0000000000000000 ft1 = 0x0000000000000000 ft2 = 0x0000000000000000 ft3 = 0x0000000000000000
ft4 = 0x0000000000000000 ft5 = 0x0000000000000000 ft6 = 0x0000000000000000 ft7 = 0x0000000000000000
fs0 = 0x0000000000000000 fs1 = 0x0000000000000000 fa0 = 0x0000000000000000 fa1 = 0x0000000000000000
fa2 = 0x0000000000000000 fa3 = 0x0000000000000000 fa4 = 0x0000000000000000 fa5 = 0x0000000000000000
fa6 = 0x0000000000000000 fa7 = 0x0000000000000000 fs2 = 0x0000000000000000 fs3 = 0x0000000000000000
fs4 = 0x0000000000000000 fs5 = 0x0000000000000000 fs6 = 0x0000000000000000 fs7 = 0x0000000000000000
fs8 = 0x0000000000000000 fs9 = 0x0000000000000000 fs10 = 0x0000000000000000 fs11 = 0x0000000000000000
ft8 = 0x0000000000000000 ft9 = 0x0000000000000000 ft10 = 0x0000000000000000 ft11 = 0x0000000000000000
x0 = 0x0000000000000000 ra = 0xffffffe000200010 sp = 0xffffffdf80001000 gp = 0x0000000000000262
tp = 0x0000000000000000 t0 = 0x8000000000080205 t1 = 0x8000000000000000 t2 = 0x0000000000000000
s0 = 0x0000000000000000 s1 = 0x0000000000000000 a0 = 0xffffffe000200080 a1 = 0x0000000000000000
a2 = 0x0000000000001000 a3 = 0x0000000080205000 a4 = 0x00000000200000cf a5 = 0x0000000080205c00
a6 = 0x0000000000000000 a7 = 0x0000000000000000 s2 = 0x0000000000000000 s3 = 0x0000000000000000
s4 = 0x0000000000000000 s5 = 0x0000000000000000 s6 = 0x0000000000000000 s7 = 0x0000000000000000
s8 = 0x0000000000000000 s9 = 0x0000000000000000 s10 = 0x0000000000000000 s11 = 0x0000000000000000
t3 = 0x0000000000000000 t4 = 0x0000000000000000 t5 = 0x0000000000000000 t6 = 0x0000000000000000
[CJ]           0 Commit Failed
[CJ] something error
- /home/tlhatepy3/sys/sys3/sys3-sp24/src/Xpart/../../repo/sys-3-project/sim/testbench.sv:136: Verilog $finish
